## 链表

#### 合并K个有序链表

[leetcode 23](https://leetcode-cn.com/problems/merge-k-sorted-lists/)

方法一，按顺序合并

```c++
class Solution
{
public:
    /*合并两个有序链表*/
	ListNode* mergeTwo(ListNode* head1, ListNode* head2)
	{
		ListNode* p1 = head1, *p2 = head2;
		ListNode* head = new ListNode(-1);
		ListNode* p = head;
		while (p1 && p2)
		{
			while (p1 && p2 && p1->val <= p2->val)
			{
				p->next = p1;
				p = p->next;
				p1 = p1->next;
			}
			while (p1 && p2 && p1->val > p2->val)
			{
				p->next = p2;
				p = p->next;
				p2 = p2->next;
			}
		}
		if (p1)
		{
			p->next = p1;
		}
		if (p2)
		{
			p->next = p2;
		}
		ListNode* temp = head;
		head = head->next;
		delete temp;
		return head;
	}
	ListNode* mergeKLists(vector<ListNode*>& lists)
	{
        if (lists.size() == 0)
		{
			return nullptr;
		}
		ListNode* head = lists[0];
		for (int i = 1; i < lists.size(); ++i)
		{
			head = mergeTwo(head, lists[i]);
		}
		return head;
	}
};
```

方法二，归并排序，两两合并，使用**队列模拟**归并

将链表头结点都放入队列，每次取出两个进行合并，合并后的头结点放入尾部

```c++
class Solution
{
public:
	/*合并两个有序链表*/
	ListNode* mergeTwo(ListNode* head1, ListNode* head2)
	{
		ListNode* p1 = head1, *p2 = head2;
		ListNode* head = new ListNode(-1);
		ListNode* p = head;
		while (p1 && p2)
		{
			while (p1 && p2 && p1->val <= p2->val)
			{
				p->next = p1;
				p = p->next;
				p1 = p1->next;
			}
			while (p1 && p2 && p1->val > p2->val)
			{
				p->next = p2;
				p = p->next;
				p2 = p2->next;
			}
		}
		if (p1)
		{
			p->next = p1;
		}
		if (p2)
		{
			p->next = p2;
		}
		ListNode* temp = head;
		head = head->next;
		delete temp;
		return head;
	}
	ListNode* mergeKLists(vector<ListNode*>& lists)
	{
		if (lists.size() == 0)
		{
			return nullptr;
		}
		queue<ListNode*> myqueue;
		for (auto node : lists)
		{
			myqueue.push(node);
		}
		/*队列为空时结束*/
		while (1)
		{
			ListNode* p1 = myqueue.front();
			myqueue.pop();
			if (!myqueue.empty())
			{
				ListNode* p2 = myqueue.front();
				myqueue.pop();
				myqueue.push(mergeTwo(p1, p2));
			}
			else
			{
				return p1;
			}
		}
		return nullptr;
	}
};
```

